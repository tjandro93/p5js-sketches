"use strict";(self.webpackChunkng_p5js_sketches=self.webpackChunkng_p5js_sketches||[]).push([[980],{5980:(D,u,o)=>{o.r(u),o.d(u,{Plotter1Module:()=>j});var y=o(9808),F=o(8555),G=o(7755),C=o(2271),T=o(6505),n=o(1081),f=o(3715),z=o(8541),E=o(5961),V=o(2215),k=o(8185),M=o(3396),x=o(61),A=o(9910);const m=new f.Z("Draw Forces",!1),g=new n.zA("Iteration Count",1,1e4,3e3,1),l=new n.zA("Force grid size",1,100,50,1),d=new n.zA("Force Perlin Factor*",.001,.1,.005,.001),v=new n.zA("Particle Count",1,250,20,1),P=new n.zA("Particle Max Speed",0,5,1,.01),R=new n.zA("Particle Min Speed",0,5,.5,.01),S=new f.Z("Loop Particles",!1),L=new z.Y("Particle starting location",["Top Left Guassian","Left Guassian","Top Guassian","Fully Random","Top Random","Left Random","Top Left Random","Center Rect","Top or Left Random"],"Top or Left Random"),h=new n.zA("Guassian Mean Divisor",1,10,8,.1),r=new n.zA("Guassian SD Divisor",.01,10,2,.01);let p;const c={title:"Flow Field (Plotter)",width:n.st.letter.width,height:n.st.letter.height,isSvg:!0,controls:{refreshButton:!0,downloadButton:!0,customControls:[g,m,l,d,v,P,R,S,L,h,r]},func:s=>{s.setup=()=>{console.log("setup() started");const t=s.millis();(0,E.$)(s,{width:c.width,height:c.height,useSvg:c.isSvg}),s.background(V.y),s.stroke(k.n),s.blendMode(s.SCREEN),s.noiseSeed(s.random(0,1e4)),p=new B(s);for(let e=0;e<g.value;e++)p.step();p.draw();const i=s.millis();console.log(`setup() took ${i-t}ms to run`)}}};class B{constructor(t){this.p5=t,this.forces=[],this.particles=[],this.forceXGridSize=l.value,this.forceYGridSize=l.value,this.forcePerlinXFactor=d.value,this.forcePerlinYFactor=d.value,this.particleCount=v.value,this.initializeForces(),this.initializeParticles(this.particleCount)}get forceColCount(){return this.p5.width/this.forceXGridSize}get forceRowCount(){return this.p5.height/this.forceYGridSize}initializeForces(){for(let t=-2;t<=this.forceColCount+2;t++)for(let i=-2;i<=this.forceRowCount+2;i++){const e=t*this.forceXGridSize,a=i*this.forceYGridSize;this.forces.push(new Y(this.p5,e,a,this.p5.noise(e*this.forcePerlinXFactor,a*this.forcePerlinYFactor)*this.p5.HALF_PI))}}initializeParticles(t){for(let i=0;i<t;i++)this.particles.push(new X(this.p5))}draw(){m.value&&this.forces.forEach(t=>t.draw()),this.particles.forEach(t=>t.draw())}step(){this.particles.forEach(t=>{this.forces.forEach(i=>{t.applyForce(i.force,(0,M.T)(i.position,t.position))})}),this.particles.forEach(t=>t.step())}}class Y{constructor(t,i,e,a){this.p5=t,this.force=T.Vector.fromAngle(a),this.position=this.p5.createVector(i,e)}draw(){const t=this.position.x,i=this.position.y,e=t+10*this.p5.cos(this.force.heading()),a=i+10*this.p5.sin(this.force.heading());this.p5.stroke(255),this.p5.line(t,i,e,a),this.p5.circle(e,a,3)}}class X{constructor(t){this.p5=t,this.previousPositions=[],this.initKinematics()}initKinematics(){this.initPosition(),this.velocity=this.p5.createVector(0,0),this.acceleration=this.p5.createVector(0,0)}initPosition(){switch(L.value){case"Fully Random":this.initPosRandom();break;case"Top Random":this.initPosRandomTopEdge();break;case"Left Random":this.initPosRandomLeftEdge();break;case"Top Left Guassian":this.initPosGuassianTopLeftEdge();break;case"Top Guassian":this.initPosGuassianTopEdge();break;case"Left Guassian":this.initPosGuassianLeftEdge();break;case"Center Rect":this.initPosCenterRect();break;case"Top Left Random":this.initPosRandomTopLeft();break;case"Top or Left Random":this.initPosRandomTopOrLeft()}}initPosRandom(){this.position=this.p5.createVector(this.p5.random(0,this.p5.width),this.p5.random(0,this.p5.height))}initPosRandomLeftEdge(){this.position=this.p5.createVector(0,this.p5.random(0,this.p5.height))}initPosRandomTopEdge(){this.position=this.p5.createVector(this.p5.random(0,this.p5.width),0)}initPosRandomTopLeft(){this.position=this.p5.random()<.5?this.p5.createVector(0,this.p5.random(0,this.p5.height/4)):this.p5.createVector(this.p5.random(0,this.p5.width/4),0)}initPosRandomTopOrLeft(){this.p5.random()<.5?this.initPosRandomLeftEdge():this.initPosRandomTopEdge()}initPosGuassianTopEdge(){const t=this.p5.width/h.value;this.position=this.p5.createVector(this.p5.randomGaussian(t,t/r.value),0)}initPosGuassianLeftEdge(){const t=this.p5.height/h.value;this.position=this.p5.createVector(0,this.p5.randomGaussian(t,t/r.value))}initPosGuassianTopLeftEdge(){if(this.p5.random()<.5){const i=this.p5.height/h.value;this.position=this.p5.createVector(0,this.p5.randomGaussian(i,i/r.value))}else{const i=this.p5.height/h.value;this.position=this.p5.createVector(this.p5.randomGaussian(i,i/r.value),0)}}initPosCenterRect(){const t=this.p5.width/2,i=this.p5.height/2;this.position=this.p5.createVector(this.p5.random(t-100,t+100),this.p5.random(i-100,i+100))}draw(){(0,x.y)(this.p5,this.previousPositions)}step(){this.previousPositions.push(this.position.copy()),this.velocity.add(this.acceleration),(0,A.d)(this.velocity,R.value,P.value),this.position.add(this.velocity),this.acceleration.mult(0),this.velocity.mult(0),S.value?this.checkBoundsLoop():this.checkBoundsRandom()}applyForce(t,i){i<=5&&(i=1),this.acceleration.add(t.copy().div(i*i))}checkBoundsRandom(){(this.position.x<0||this.position.x>this.p5.width||this.position.y<0||this.position.y>this.p5.height)&&(this.initKinematics(),this.previousPositions.push(null))}checkBoundsLoop(){let t=!1;this.position.x<0&&(this.position.x=this.p5.width,t=!0),this.position.x>this.p5.width&&(this.position.x=0,t=!0),this.position.y<0&&(this.position.y=this.p5.height,t=!0),this.position.y>this.p5.height&&(this.position.y=0,t=!0),t&&this.previousPositions.push(null)}}var w=o(5e3);let j=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=w.oAB({type:s}),s.\u0275inj=w.cJS({imports:[[y.ez,C.m,F.Bz.forRoot([{path:"",component:G.k,data:c}])]]}),s})()}}]);