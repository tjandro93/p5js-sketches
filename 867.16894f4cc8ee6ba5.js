"use strict";(self.webpackChunkng_p5js_sketches=self.webpackChunkng_p5js_sketches||[]).push([[867],{6867:(X,d,s)=>{s.r(d),s.d(d,{FlowField1InteractiveModule:()=>j});var x=s(9808),z=s(6505),r=s(1081),p=s(3715),B=s(5961),C=s(2215),u=s(8185),A=s(3396),I=s(6046),M=s(9910);const c=new r.NA("Pause"),f=new r.NA("Draw Once"),F=new p.Z("Draw Forces",!1),a=new r.zA("Force grid size*",1,100,50,1),l=new r.zA("Force Perlin Factor*",.001,.01,.005,.001),v=new r.zA("Initial Particle Count*",1,100,5,1),g=new r.zA("Max Particle Count",10,200,100,1),P=new r.zA("Particle Increment Amount",1,20,1,1),m=new r.zA("Particle Max Speed",0,5,1,.01),w=new r.zA("Particle Min Speed",0,5,.5,.01),y=new p.Z("Loop Particles",!1),h={title:"Flow Field 1 (Interactive)",width:1e3,height:1e3,isSvg:!1,controls:{refreshButton:!0,downloadButton:!0,customControls:[c,f,F,a,l,v,g,P,m,w,y]},func:o=>{let e,t=!0;function n(){e.step(),e.draw()}o.setup=()=>{(0,B.$)(o,{width:h.width,height:h.height,useSvg:h.isSvg}),o.background(C.y),o.stroke(u.n,48),o.noFill(),o.blendMode(o.SCREEN),o.noiseSeed(o.random(0,1e4)),f.onPress=()=>{n()},c.onPress=()=>{t=!t,c.label$.next(t?"Pause":"Run")},e=new R(o)},o.draw=()=>{t&&n()}}};class R{constructor(t){this.p5=t,this.particleIncreaseTimeout=250,this.forces=[],this.particles=[],this.forceXGridSize=a.value,this.forceYGridSize=a.value,this.forcePerlinXFactor=l.value,this.forcePerlinYFactor=l.value,this.initialParticleCount=v.value,this.initializeForces(),this.initializeParticles(this.initialParticleCount);const i=setInterval(()=>{this.particles.length<g.value?this.initializeParticles(P.value):(console.log("ending interval"),clearInterval(i))},this.particleIncreaseTimeout)}get forceColCount(){return this.p5.width/this.forceXGridSize}get forceRowCount(){return this.p5.height/this.forceYGridSize}initializeForces(){for(let t=-2;t<=this.forceColCount+2;t++)for(let i=-2;i<=this.forceRowCount+2;i++){const e=t*this.forceXGridSize,n=i*this.forceYGridSize;this.forces.push(new E(this.p5,e,n,this.p5.noise(e*this.forcePerlinXFactor,n*this.forcePerlinYFactor)*this.p5.TWO_PI-this.p5.HALF_PI))}}initializeParticles(t){console.log(`Adding ${t} particles`);for(let i=0;i<t;i++)this.particles.push(new G(this.p5))}draw(){F.value&&this.forces.forEach(t=>t.draw()),this.particles.forEach(t=>t.draw())}step(){this.particles.forEach(t=>{this.forces.forEach(i=>{t.applyForce(i.force,(0,A.T)(i.position,t.position))})}),this.particles.forEach(t=>t.step())}}class E{constructor(t,i,e,n){this.p5=t,this.force=z.Vector.fromAngle(n),this.position=this.p5.createVector(i,e)}draw(){this.p5.push(),this.p5.stroke(u.n),this.p5.translate(this.position.x,this.position.y),this.p5.rotate(this.force.heading()),this.p5.line(0,0,10,0),this.p5.translate(-5,0),this.p5.circle(0,0,3),this.p5.pop()}}class G{constructor(t){this.p5=t,this.initKinematics()}get xBoundFudgeFactor(){return this.p5.width/8}get yBoundFudgeFactor(){return this.p5.height/8}initKinematics(){this.initPosRandom(),this.velocity=this.p5.createVector(0,0),this.acceleration=this.p5.createVector(0,0),this.previousPosition=this.position.copy()}initPosRandom(){this.position=this.p5.createVector(this.p5.random(0,this.p5.width),this.p5.random(0,this.p5.height))}initPosRightEdge(){this.position=this.p5.createVector(this.p5.width,this.p5.random(0,this.p5.height))}initPosRandomTopEdge(){this.position=this.p5.createVector(this.p5.random(0,this.p5.width),0)}initPosGuassianTopEdge(){const t=this.p5.width/2;this.position=this.p5.createVector(this.p5.randomGaussian(t,t/2),-1)}initPosCenterRect(){const t=this.p5.width/2,i=this.p5.height/2;this.position=this.p5.createVector(this.p5.random(t-100,t+100),this.p5.random(i-100,i+100))}draw(){(0,I.j)(this.p5,this.previousPosition,this.position)}step(){this.previousPosition=this.position.copy(),this.velocity.add(this.acceleration),(0,M.d)(this.velocity,w.value,m.value),this.position.add(this.velocity),this.acceleration.mult(0),y.value?this.checkBoundsLoop():this.checkBoundsRandom()}applyForce(t,i){i<=5&&(i=1),this.acceleration.add(t.copy().div(i*i))}checkBoundsRandom(){(this.position.x<-this.xBoundFudgeFactor||this.position.x>this.p5.width+this.xBoundFudgeFactor||this.position.y<-this.yBoundFudgeFactor||this.position.y>this.p5.height+this.yBoundFudgeFactor)&&this.initKinematics()}checkBoundsLoop(){this.position.x<-this.xBoundFudgeFactor&&(this.position.x=this.p5.width,this.previousPosition=this.position.copy()),this.position.x>this.p5.width+this.xBoundFudgeFactor&&(this.position.x=0,this.previousPosition=this.position.copy()),this.position.y<-this.yBoundFudgeFactor&&(this.position.y=this.p5.height,this.previousPosition=this.position.copy()),this.position.y>this.p5.height+this.yBoundFudgeFactor&&(this.position.y=0,this.previousPosition=this.position.copy())}}var V=s(8555),k=s(7755),T=s(2271),S=s(5e3);let j=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=S.oAB({type:o}),o.\u0275inj=S.cJS({imports:[[x.ez,T.m,V.Bz.forChild([{path:"",component:k.k,data:h}])]]}),o})()}}]);